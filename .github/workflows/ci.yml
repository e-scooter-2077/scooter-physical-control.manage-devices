name: Continuous Integration

env:
  OUTPUT_DIR: publish
  RELEASE_PREFIX: Manage Devices Functions
  AZURE_FUNCTIONAPP_NAME: 'scooter-physical-control-manage-devices'
  PROJECT_NAME: 'EScooter.PhysicalControl.ManageDevices'

on:
  workflow_dispatch:
  push:
    branches:
      - "**"
    tags:
      - "*"
      
jobs:
  ci:
    uses: e-scooter-2077/azure-functions-ci/.github/workflows/azure-functions-ci.yml@master
    with:
      release-prefix: Manage Devices Functions
      azure-functionapp-name: 'scooter-physical-control-manage-devices'
      project-name: 'EScooter.PhysicalControl.ManageDevices'
    secrets:
      azure-credentials: ${{ secrets.AZURE_CREDENTIALS }}
